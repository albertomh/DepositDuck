(()=>{var h=Object.defineProperty;var f=(i,n)=>{for(var a in n)h(i,a,{get:n[a],enumerable:!0})};var d={};f(d,{onboardingFormState:()=>u});function u(i,n,a,c){return{fields:{name:i,depositAmount:n,tenancyStartDate:a,tenancyEndDate:c},errors:{name:{isInvalid:!1},depositAmount:{tooSmall:!1},tenancyStartDate:{datesInWrongOrder:!1},tenancyEndDate:{datesInWrongOrder:!1,isTooShort:!1,overSixMonthsAway:!1,outsideDisputeWindow:!1,tooCloseToWindowEnd:!1}},canSubmitForm:!1,fieldHasErrors(e){let s=this.errors[e];return Object.values(s).some(t=>t===!0)},formHasErrors(){for(let e in this.errors)if(this.fieldHasErrors(e)===!0)return!0;return!1},validationClassForField(e){return this.fields[e]?this.fieldHasErrors(e)?"is-invalid":"is-valid":""},allRequiredFieldsHaveValues(){return!Object.values(this.fields).some(t=>t===""||t===null)},validateName(){if(!this.fields.name)return;this.fields.name=this.fields.name.replace(/\s+/g," ").trim();let e=/^[\p{L}\s'-]+$/u;this.errors.name.isInvalid=!e.test(this.fields.name)},validateDepositAmount(){this.fields.depositAmount&&(this.errors.depositAmount.tooSmall=this.fields.depositAmount<100)},daysBetweenDates(e,s){let t=s-e,o=1e3*60*60*24;return Math.floor(t/o)},endDateIsInPast(){return new Date(this.fields.tenancyEndDate)-new Date<0},validateTenancyDates(){if(this.fields.tenancyEndDate){let o=new Date(this.fields.tenancyEndDate),l=new Date,r=this.daysBetweenDates(o,l);this.errors.tenancyEndDate.overSixMonthsAway=r<-180,this.errors.tenancyEndDate.outsideDisputeWindow=r>90,this.errors.tenancyEndDate.tooCloseToWindowEnd=r>85&&r<90}if(!this.fields.tenancyStartDate||!this.fields.tenancyEndDate)return;let e=this.daysBetweenDates(new Date(this.fields.tenancyStartDate),new Date(this.fields.tenancyEndDate)),s=e<0;this.errors.tenancyStartDate.datesInWrongOrder=s,this.errors.tenancyEndDate.datesInWrongOrder=s;let t=0<e&&e<30;this.errors.tenancyStartDate.isTooShort=t,this.errors.tenancyEndDate.isTooShort=t},validateForm(){this.validateName(),this.validateDepositAmount(),this.validateTenancyDates(),this.canSubmitForm=this.allRequiredFieldsHaveValues()&&!this.formHasErrors()}}}window.depositduck={},window.depositduck.dashboard={},window.depositduck.dashboard.welcome=d;})();
